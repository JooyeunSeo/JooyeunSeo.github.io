---
date: 2025-12-14
layout: splash
excerpt: "A simple to-do tracking service. Add tasks, check them off when completed, and set due dates. Overdue tasks are automatically marked when not finished on time."
title: "To-do List"
header:
  teaser: "https://cdn.pixabay.com/photo/2021/03/28/13/02/lists-6131220_1280.jpg"
  overlay_color: "#000"
  overlay_filter: "0.3"
  overlay_image: https://cdn.pixabay.com/photo/2021/03/28/13/02/lists-6131220_1280.jpg
  caption: "Photo credit: [**Pixabay**](https://pixabay.com/ko/illustrations/%EA%B8%B0%EC%9A%B8%EA%B8%B0-%ED%95%A0-%EA%B2%83-%EC%A2%85%EC%9D%B4-6131220/)"
  actions:
    - label: "Visit the Website"
      url: "https://dynamic-web-page-2bzr.onrender.com/todo_list"
    - label: "Check the Code"
      url: "https://github.com/JooyeunSeo/Dynamic-Web-Page"  
---

# Intro

이 프로젝트는 로그인한 사용자가 개인적인 할 일 목록을 직관적으로 관리할 수 있도록 만든 Todo List 웹 서비스입니다.

사용자는 할 일을 추가하고 완료 여부를 전환하며, 마감일을 기준으로 현재 해야 할 작업을 한눈에 확인할 수 있습니다.    
완료한 항목은 클릭 한 번으로 상태를 변경할 수 있고, 마우스 드래그를 통해 할 일의 순서를 자유롭게 조정할 수 있습니다.

마감일이 설정되었지만 아직 완료하지 않은 할 일은 목록 하단에 따로 정리되어 표시되기 때문에, 해야 할 일을 자주 놓치거나 관리가 어려운 사용자에게도 도움이 되도록 설계되었습니다.

웹 환경에서 간단한 할 일을 빠르게 기록하고 진행 상황을 시각적으로 관리하는 것을 목표로 합니다.
<br><br><br>

# Design

### Overview 

이 서비스는 사용자 단위로 할 일 데이터를 분리하여 관리하도록 설계되었다.     
모든 할 일은 인증된 사용자와 연결되어 저장되며, 로그인 상태에 따라 조회되는 데이터가 달라진다.

메인 페이지는 하나의 GET 요청으로 로드되며, 서버는 인증 여부를 확인한 뒤 사용자에 해당하는 할 일 목록만 조회한다.    
조회된 데이터는 할 일의 완료 상태와 마감일을 기준으로 진행 중, 완료, 기한 초과의 세 가지 그룹으로 분류되어 화면에 표시된다.

할 일의 추가, 수정, 순서 변경, 삭제와 같은 주요 작업은 페이지 이동 없이 비동기 요청을 통해 처리되도록 구성하였다.

### Information Architecture

아래 플로우 차트는 사용자가 페이지에 접근한 이후 화면에 할 일이 표시되고, 각 사용자 행동이 서버와 데이터베이스에 반영되는 전체 흐름을 나타낸다.

- 사용자가 페이지에 접근하면 GET 요청을 통해 서버는 로그인 상태를 확인한다.
- 인증된 사용자의 경우, 해당 사용자와 연결된 할 일만 조회하여 화면을 구성한다.
- 화면에 표시된 각 할 일에 대해 사용자는 추가, 수정, 순서 변경, 삭제 등의 작업을 수행할 수 있다.
- 모든 사용자 액션은 POST 요청을 통해 서버로 전달되며, 데이터베이스에 즉시 반영된다.
- 변경된 데이터는 이후 페이지 재로딩 또는 재요청 시 다시 조회되어 화면에 반영된다.

![](/assets/images/personal-projects/to_do_list_IA.png)

### Data Model

사용자 단위로 분리된 할 일 목록을 제공하기 위해 User와 Task 두 개의 주요 엔티티로 구성된다.

- User (`id`, `name`, `email`, `password`)
   - 사용자를 식별하기 위한 기본 정보와 인증 정보를 저장한다.
   - 하나의 사용자는 여러 개의 할 일을 가질 수 있으며, 각 할 일은 반드시 하나의 사용자에 속한다.
- Task (`id`, `text`, `is_done`, `due_date`, `tasker_id`, `order`)
   - 개별 할 일에 대한 내용을 저장한다.
   - `tasker_id`를 통해 할 일을 생성한 사용자와 연결되며, 이를 기준으로 로그인한 사용자에게 해당하는 할 일만 조회된다.
   - `is_done` 필드는 할 일의 완료 여부를 나타내며, 진행 중 / 완료 상태 분류에 사용된다.
   - `due_date`는 사용자가 입력한 로컬 시간 기준의 값을 UTC로 변환하여 저장한다.
   - `order` 필드는 사용자가 직접 변경한 할 일의 순서를 저장하며, 동일 사용자 내에서의 목록 정렬에 사용된다.

### UI 

사용자가 할 일의 상태를 직관적으로 인식할 수 있도록 시각적 요소를 최소한의 규칙으로 설계하였다.

- 진행 중인 할 일은 **□** 아이콘과 **검정색** 텍스트로 표시한다.
- 완료된 할 일은 **▣** 아이콘과 **<font color="Grey"><del>가로 취소선이 적용된 회색</del></font>** 텍스트로 표시한다.
- 기한이 초과된 할 일은 체크 상태 변경이 불가능하며, **<font color="Red">빨간색</font>** 텍스트로 강조하여 즉시 인식할 수 있도록 한다.
- 진행 중, 완료, 기한 초과된 할 일의 개수를 상단에 표시하여 현재 작업 상태를 한눈에 파악할 수 있도록 한다.
<br><br><br>

# Implementation

### Tech Stack

- **Backend:** Flask, Flask-Login, SQLAlchemy, Flask-WTF (with WTForms)
- **Templates:** Jinja2 (HTML rendering)
- **Database:** SQLite
- **Frontend:** JavaScript, AJAX

### Coding

1. **사용자 인증 및 세션 관리**
   - Flask-Login을 사용하여 사용자 인증과 세션 관리를 구현하였다.
   - 인증된 사용자에 대해서만 `user_id` 기준으로 자신에게 연결된 할 일 목록에 접근할 수 있다.
2. **입력 양식 처리**
   - Flask-WTF을 사용하여 할 일 입력 및 수정 폼을 구성하였다.
   - CSRF 보호 기능을 통해 폼 제출 요청의 안전성을 확보한다.
   - 모든 필드는 자동으로 유효성 검사를 수행하며, 검증에 실패할 경우 데이터베이스에 반영되지 않는다.
   - 폼은 Jinja2 템플릿에서 렌더링된다.
3. **JavaScript & AJAX**       
페이지 전체를 새로고침하지 않고 사용자 인터랙션을 처리하기 위해 AJAX 기반 비동기 통신을 사용하였다.
   - 할 일 순서 변경
      - SortableJS 라이브러리를 사용하여 할 일 목록에 드래그 앤 드롭 기능을 구현하였다.
      - 순서 변경 시 `onEnd` 이벤트가 발생한다.
      - 변경된 할 일 ID 목록을 배열로 수집하여 서버로 전송한다.
      - 서버는 해당 순서를 기준으로 각 할 일의 `order` 값을 업데이트한다.
   - 할 일 텍스트 수정
      - JavaScript를 통해 텍스트 수정 UI를 활성화한다.
      - 수정 완료 시 AJAX 요청을 통해 변경된 텍스트를 서버로 전달한다.
      - 서버는 해당 할 일의 텍스트를 업데이트하고 데이터베이스에 저장한다.
   - 할 일 완료 or 완료 취소 처리
      - 사용자가 체크박스를 클릭하면 완료 상태가 `진행 중→완료 상태` 또는 `완료 상태→진행 중`으로 즉시 변경된다.
      - 변경된 상태는 AJAX 요청을 통해 서버로 전송된다.
      - 서버는 해당 할 일의 `is_done` 값을 반전시켜 데이터베이스에 반영한다.
   - Flask 세션에 사용자 시간대 저장
      - 페이지 최초 로드 시 JavaScript를 통해 사용자의 브라우저 시간대를 서버로 전송한다.
      - 서버는 해당 시간대를 Flask 세션에 저장한다(e.g. Asia/Seoul).
4. **시간대 관리**
   - 마감일 처리는 사용자 위치에 따라 일관된 경험을 제공하기 위해 UTC 기준으로 설계하였다.
      1. 사용자가 입력한 마감일은 시간대 정보가 없는 naive datetime 형식으로 서버에 전달된다.
      2. 서버는 해당 값을 사용자 세션에 저장된 시간대 기준으로 해석한 뒤 UTC로 변환한다.
      3. UTC로 변환된 시간은 SQLite에 저장될 때 다시 naive datetime 형태로 저장된다.
      4. 데이터를 조회할 때는,
         1. 데이터베이스에서 가져온 naive datetime을 UTC 기준 시간으로 다시 명시적으로 변환한 후
         2. 사용자 세션에 저장된 시간대 기준으로 재변환하여 화면에 표시한다.
   - 이와 같은 방식을 통해 사용자가 다른 시간대에서 접속하더라도, 마감일은 항상 해당 사용자의 현지 시간 기준으로 정확하게 표시된다.
<br><br><br>

# Result

![](/assets/images/personal-projects/to_do_list.gif)
<br><br><br>

# Future Improvements

- **마감 기한 알림**   
할 일의 기한이 임박하면 사용자에게 알림을 보내는 기능 추가
- **우선순위**   
할 일에 우선순위를 지정하고, 우선순위에 따라 목록을 정렬할 수 있는 기능 구현
<br><br><br>

# Conclusion
이번 프로젝트에서는 시간대 처리에서 예상보다 많은 시행착오를 겪었습니다. 로컬 환경에서는 문제가 없었지만, 실제 서버 환경에서는 마감일이 아직 지나지 않았음에도 기한이 만료된 것으로 처리되는 상황을 확인했습니다.

문제를 해결하는 과정에서, 데이터베이스에 저장되는 datetime 값이 시간대 정보 없이 관리된다는 점을 이해하게 되었습니다.
이를 보완하기 위해 사용자 세션에 시간대 정보를 저장하고, 데이터를 조회할 때 명시적으로 변환하는 구조로 수정했습니다.

이 경험을 통해 웹 서비스에서는 다양한 지역의 사용자가 동일한 시스템을 사용할 수 있다는 점을 고려하여 시간대 처리를 설계하는 것이 중요하다는 것을 배웠습니다.      
또한 Flask 세션을 실제 요구사항에 맞게 활용해볼 수 있는 의미 있는 경험이었습니다.
<br>

<b>Posted on:</b> {{ page.date | date: "%B %d, %Y" }}